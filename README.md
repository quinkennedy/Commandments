#Commandments
**by Quin Kennedy**, created initially during [_Art Hack Day - God Mode_](http://arthackday.net/god_mode/) at 319 Scholes

##Setup
1. Startup a local Spacebrew server
2. Startup a local Persistent Admin using the persistent_config.json from this repository.
3. Open a web admin to monitor connections
4. Open the following web pages:
    * [gate](http://quinkennedy.github.io/spacebrew-stuff/web-custom/?name=gate&server=localhost&stringIns=string&stringOuts=string&booleanIns=boolean&booleanOuts=boolean&rangeIns=range&rangeOuts=range&code=onRange%20%3D%20function%20%28value%29%7Bdata.currQuality%20%3D%20value%3B%7D%3BonString%20%3D%20function%20%28value%29%7Bdata.tweets%5Bdata.currQuality%5D.push%28value%29%3B%20data.tweets%5Bdata.currQuality%5D%20%3D%20data.tweets%5Bdata.currQuality%5D.splice%28-100%2C%20100%29%3B%7D%3BonBoolean%20%3D%20function%20%28value%29%7Bvar%20highestQuality%20%3D%200%3B%20while%28data.tweets%5BhighestQuality%5D.length%20%3C%3D%200%20%26%26%20highestQuality%20%3C%2010%29%7BhighestQuality++%3B%7D%20if%20%28highestQuality%20%3C%2010%29%7B%20return%20%7Bstring%3A%20data.tweets%5BhighestQuality%5D.pop%28%29%7D%3B%7D%7D%3Binit%20%3D%20function%20%28%29%7Bdata.tweets%20%3D%20%5B%5D%3B%20var%20qRange%20%3D%2010%3B%20while%28qRange--%29%7Bdata.tweets%5BqRange%5D%20%3D%20%5B%5D%3B%7D%20data.currQuality%20%3D%200%3B%7D%3B)
    * [commandmentize](http://quinkennedy.github.io/spacebrew-stuff/web-custom/?name=commandmentize&server=localhost&stringIns=string&stringOuts=string&booleanIns=boolean&booleanOuts=boolean&rangeIns=range&rangeOuts=range&code=onRange%20%3D%20function%20%28r%2Cn%29%7B%0A%20%20console.log%28%22received%20in%20onRange%20function%20on%20subscriber%20%22%20+%20n%20+%20%22%3A%20%22%20+%20r%29%3B%0A%20%20console.log%28%22opportunity%20to%20return%20%7Bstring%3A_%20%2Cboolean%3A_%20%2Crange%3A_%7D%22%29%3B%0A%7D%3BonString%20%3D%20function%20%28value%29%7B%20return%20%7Bstring%3A%22COMMANDMENT%20%22%20+%20data.rome%28data.index++%29%20+%20%22%20%22%20+%20value%7D%3B%7D%3BonBoolean%20%3D%20function%20%28b%2Cn%29%7B%0A%20%20console.log%28%22received%20in%20onBoolean%20function%20on%20subscriber%20%22%20+%20n%20+%20%22%3A%20%22%20+%20b%29%3B%0A%20%20console.log%28%22opportunity%20to%20return%20%7Bstring%3A_%20%2Cboolean%3A_%20%2Crange%3A_%7D%22%29%3B%0A%7D%3Binit%20%3D%20function%20%28%29%7Bdata.index%20%3D%201%3B%20data.rome%20%3D%20function%28N%2Cs%2Cb%2Ca%2Co%2Ct%29%7B%0A%20%20t%3DN/1e3%7C0%3BN%25%3D1e3%3B%0A%20%20for%28s%3Db%3D%27%27%2Ca%3D5%3BN%3Bb++%2Ca%5E%3D7%29%0A%20%20%20%20for%28o%3DN%25a%2CN%3DN/a%5E0%3Bo--%3B%29%0A%20%20%20%20%20%20s%3D%27IVXLCDM%27.charAt%28o%3E2%3Fb+N-%28N%26%3D~1%29+%28o%3D1%29%3Ab%29+s%3B%0A%20%20return%20Array%28t+1%29.join%28%27M%27%29+s%3B%0A%7D%3B%7D%3B)
    * [minute bang](http://quinkennedy.github.io/spacebrew-stuff/web-custom/?name=minute%20bang&server=localhost&stringIns=string&stringOuts=string&booleanIns=boolean&booleanOuts=boolean&rangeIns=range&rangeOuts=range&code=onRange%20%3D%20function%20%28r%2Cn%29%7B%0A%20%20console.log%28%22received%20in%20onRange%20function%20on%20subscriber%20%22%20+%20n%20+%20%22%3A%20%22%20+%20r%29%3B%0A%20%20console.log%28%22opportunity%20to%20return%20%7Bstring%3A_%20%2Cboolean%3A_%20%2Crange%3A_%7D%22%29%3B%0A%7D%3BonString%20%3D%20function%20%28s%2Cn%29%7B%0A%20%20console.log%28%22received%20in%20onString%20function%20on%20subscriber%20%22%20+%20n%20+%20%22%3A%20%22%20+%20s%29%3B%0A%20%20console.log%28%22opportunity%20to%20return%20%7Bstring%3A_%20%2Cboolean%3A_%20%2Crange%3A_%7D%22%29%3B%0A%7D%3BonBoolean%20%3D%20function%20%28b%2Cn%29%7B%0A%20%20console.log%28%22received%20in%20onBoolean%20function%20on%20subscriber%20%22%20+%20n%20+%20%22%3A%20%22%20+%20b%29%3B%0A%20%20console.log%28%22opportunity%20to%20return%20%7Bstring%3A_%20%2Cboolean%3A_%20%2Crange%3A_%7D%22%29%3B%0A%7D%3Binit%20%3D%20function%20%28%29%7BsetInterval%28function%28%29%7BsendMessage%28%22boolean%22%2C%20true%2C%20%22boolean%22%29%3B%7D%2C%2060000%29%3B%7D%3B)
    * [chat](http://quinkennedy.github.io/spacebrew-stuff/web-chat/index.html?name=chat) (for observation) 
    * [button](http://quinkennedy.github.io/spacebrew-stuff/web-button/index.html?name=button) (for manual triggering)
5. Start up spacebrew-twitter-streaming `node index.js` (to be pushed to a new git repo later)
6. Upload spacebrew_print_and_cut to an arduino with a receipt printer, servo, and Ethernet shield. The servo is used to actuate a pair of scissors that cut off the printed commandment.
    * You will need the [Adafruit Thermal Printer Library](https://github.com/quinkennedy/Adafruit-Thermal-Printer-Library), the [Spacebrew Arduino Library](https://github.com/labatrockwell/spacebrew-arduino-library), and the [Arduino Websocket Client Library](https://github.com/labatrockwell/ArduinoWebsocketClient)

##Troubleshooting
* Try changing the mac address `mac` that is hardcoded in the Arduino sketch. If two devices have the same mac address, usually only one will receive network traffic
* Try changing the name of the Spacebrew client configured in the Arduino sketch. You could also try changing the names of the various other Spacebrew clients. Only one client with a given name will be recognized by the Spacebrew server at a time.
    * If you change the names, you will need to update the Persistent Admin settings to use the new names.
* Sometimes the receipt paper will get stuck in the printer, you just need to tug it to get it moving again
* If the printer is mounted with the paper sticking out straight down (or close to it) the paper may jam in a more catastrophic way. This seems to be more likely if you are near the end of a role. You can mitigate this by mounting the printer with the paper pointing out the side. (more-or-less)
